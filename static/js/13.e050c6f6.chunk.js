(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[13],{624:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},626:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(167),a=n(0),o=n(624),c=n(2),s=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),s=n[0],u=n[1];return[s,u,function(e){u(Object(a.a)(Object(a.a)({},s),{},Object(r.a)({},e.target.id,e.target.value)))}]},u=function(e,t){for(var n in e){if(""==e[n]||null==e[n])return t(!0);if("email"==n&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e[n]))return t(!0)}return t(!1)}},627:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));n(624);var r=n(635),a=n.n(r),o=function(e){e.abort()},c=function(){var e=new AbortController;e.signal;return e},s=function(e,t,n){return a()({title:e,text:t,icon:n,button:!0})}},628:function(e,t,n){"use strict";var r=n(647),a=n.n(r);function o(e,t,n,r,a,o,c){try{var s=e[o](c),u=s.value}catch(i){return void n(i)}s.done?t(u):Promise.resolve(u).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function s(e){o(c,r,a,s,u,"next",e)}function u(e){o(c,r,a,s,u,"throw",e)}s(void 0)}))}}var s=n(168),u=n(71),i=n.n(u);t.a=function e(){var t=this;Object(s.a)(this,e),this.setUrl=function(){return"http://api.virtualmusicafrica.com/api"},this.appDomain=function(){return"http://admin.virtualmusicafrica.com"},this.postData=function(){var e=c(a.a.mark((function e(n,r,o){var c,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>3&&void 0!==l[3]?l[3]:"",e.next=3,i.a.get(c);case 3:return s=e.sent,u=t.postRequestOptions(s,n,o),console.log(u),e.abrupt("return",fetch(t.setUrl()+"/"+r,u).then((function(e){return e.json()})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.getData=function(){var e=c(a.a.mark((function e(n){var r,o,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",e.next=3,i.a.get(r);case 3:return o=e.sent,c=t.getRequestOptions(o),e.abrupt("return",fetch(t.setUrl()+"/"+n,c).then((function(e){return e.json()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteData=function(){var e=c(a.a.mark((function e(n){var r,o,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",e.next=3,i.a.get(r);case 3:return o=e.sent,c=t.deleteRequestOptions(o),e.abrupt("return",fetch(t.setUrl()+"/"+n,c).then((function(e){return e.json()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRequestOptions=function(e){return{method:"GET",headers:{Authorization:"Bearer "+e,"Content-type":"application/json"}}},this.postRequestOptions=function(e,t,n){return{method:n,cache:"no-cache",headers:{"Content-type":"Application/json",Accept:"application/json, text/plain, */*",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}},this.deleteRequestOptions=function(e){return{method:"DELETE",headers:{Authorization:"Bearer "+e,"Content-type":"application/json"}}}}},647:function(e,t,n){e.exports=n(390)},655:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return m}));var r=n(30),a=n(628),o=n(71),c=n.n(o),s=function(e,t){return function(n){n({type:r.n}),n({type:r.g}),function(e){return(new a.a).postData(e,"admin/login","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?(n({type:r.h,res:e}),console.log(e.token),c.a.set("vt-music",e.token),t.push("/")):e.hasOwnProperty("success")&&0==e.success&&n({type:r.f,res:e})}),(function(e){n({type:r.e,error:e}),console.log(e)}))}},u=function(){return function(e){e({type:r.n})}},i=function(e){return function(t){t({type:r.m}),t({type:r.c}),function(e){return(new a.a).postData(e,"admin/forgot-password-link","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?t({type:r.d,res:e}):e.hasOwnProperty("success")&&0==e.success&&t({type:r.b,res:e})}),(function(e){t({type:r.a,error:e}),console.log(e)}))}},l=function(){return function(e){e({type:r.m})}},f=function(e){return function(t){t({type:r.o}),t({type:r.k}),function(e){return(new a.a).postData(e,"admin/reset-password","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?t({type:r.l,res:e}):e.hasOwnProperty("success")&&0==e.success&&t({type:r.j,res:e})}),(function(e){t({type:r.i,error:e}),console.log(e)}))}},m=function(){return function(e){e({type:r.o})}}},741:function(e,t,n){},825:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(2),a=n.n(r),o=n(625),c=n(624),s=n(629),u=n(652),i=n(626),l=n(627),f=n(166),m=(n(741),n(655)),p=(n(640),n(630)),d=n.n(p),h=n(21);function y(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),n=t[0],p=t[1],y=Object(f.b)(),v=Object(f.c)((function(e){return e.auth.resetPasswordResponse})),g=Object(l.c)(),b=Object(h.g)(),E=Object(h.i)();console.log(E);var w=E.token,O=Object(i.b)({email:"",password:"",confirm:"",token:w}),j=Object(c.a)(O,3),A=j[0],k=(j[1],j[2]),P=function(){b.push("/login")};Object(r.useEffect)((function(){return C(A),function(){Object(l.b)(g)}}),[A]);var x=function(e){e.preventDefault(),y(Object(m.c)(A))},C=function(e){Object(i.a)(e,p)},N=function(){y(Object(m.f)())};return a.a.createElement(u.a,{initialValues:A,validate:function(){var e={};return e.password=A.password?"":"Password Field is Required",e.confirm=A.confirm?"":"Confirm Password Field is Required",e.email=A.email?"":"Email Field is Required",e.email=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(A.email)?"":"Invalid email address",e}},(function(e){var t,r=e.errors,c=e.touched,u=e.handleBlur;return a.a.createElement(o.u,{onSubmit:x},""!=v&&"loading"==v?a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{type:"ThreeDots",color:"#321fdb",height:60,width:60})):""!=v&&1==v.success?(t=v.message,console.log(t),a.a.createElement(o.a,{color:"success",closeButton:!0,onClick:N},t)):0==v.success?function(e,t){return"undefined"===typeof e?a.a.createElement(o.a,{color:"danger",closeButton:!0,onClick:N},t):Object.keys(e).map((function(t,n){return a.a.createElement(o.a,{color:"danger",closeButton:!0,onClick:N,key:t},e[t][0])}))}(v.error,v.message):v,a.a.createElement("h3",null,"Reset Password"),a.a.createElement("p",{className:"text-muted"},"Reset Your Password"),a.a.createElement(o.B,{className:"mb-3"},a.a.createElement(o.D,null,a.a.createElement(o.E,null,a.a.createElement(s.a,{name:"cil-user"}))),a.a.createElement(o.A,{type:"email",id:"email",name:"email",value:A.email,onChange:k,onBlur:u,placeholder:"Email",autoComplete:"password"}),a.a.createElement("div",{className:"error_form_response"},r.email&&c.email&&r.email)),a.a.createElement(o.B,{className:"mb-3"},a.a.createElement(o.D,null,a.a.createElement(o.E,null,a.a.createElement(s.a,{name:"cil-user"}))),a.a.createElement(o.A,{type:"password",id:"password",name:"password",value:A.password,onChange:k,onBlur:u,placeholder:"Password",autoComplete:"password"}),a.a.createElement("div",{className:"error_form_response"},r.password&&c.password&&r.password)),a.a.createElement(o.B,{className:"mb-4"},a.a.createElement(o.D,null,a.a.createElement(o.E,null,a.a.createElement(s.a,{name:"cil-lock-locked"}))),a.a.createElement(o.A,{type:"password",id:"confirm",value:A.confirm,onChange:k,onBlur:u,placeholder:"Confirm Password",autoComplete:"current-password"}),a.a.createElement("div",{className:"error_form_response"},r.confirm&&c.confirm&&r.confirm)),a.a.createElement(o.I,null,a.a.createElement(o.l,{xs:"6"},a.a.createElement(o.f,{color:"primary",disabled:n,type:"submit",className:"px-4"},"Reset Password")),a.a.createElement(o.l,{xs:"6",className:"text-right"},a.a.createElement(o.f,{onClick:P,color:"link",className:"px-0"},"Login Here"))))}))}var v=function(){return a.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},a.a.createElement(o.m,null,a.a.createElement(o.I,{className:"justify-content-center"},a.a.createElement(o.l,{md:"6"},a.a.createElement(o.j,null,a.a.createElement(o.g,{className:"p-4"},a.a.createElement(o.h,null,a.a.createElement(y,null))))))))}}}]);
//# sourceMappingURL=13.e050c6f6.chunk.js.map