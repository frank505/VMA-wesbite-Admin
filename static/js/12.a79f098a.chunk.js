(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[12],{624:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return o}))},626:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(167),o=n(0),a=n(624),c=n(2),u=function(e){var t=Object(c.useState)(e),n=Object(a.a)(t,2),u=n[0],s=n[1];return[u,s,function(e){s(Object(o.a)(Object(o.a)({},u),{},Object(r.a)({},e.target.id,e.target.value)))}]},s=function(e,t){for(var n in e){if(""==e[n]||null==e[n])return t(!0);if("email"==n&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e[n]))return t(!0)}return t(!1)}},627:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));n(624);var r=n(635),o=n.n(r),a=function(e){e.abort()},c=function(){var e=new AbortController;e.signal;return e},u=function(e,t,n){return o()({title:e,text:t,icon:n,button:!0})}},628:function(e,t,n){"use strict";var r=n(647),o=n.n(r);function a(e,t,n,r,o,a,c){try{var u=e[a](c),s=u.value}catch(i){return void n(i)}u.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function u(e){a(c,r,o,u,s,"next",e)}function s(e){a(c,r,o,u,s,"throw",e)}u(void 0)}))}}var u=n(168),s=n(71),i=n.n(s);t.a=function e(){var t=this;Object(u.a)(this,e),this.setUrl=function(){return"http://virtualmusicafrica.com/api"},this.appDomain=function(){return"http://localhost:3002/#/"},this.postData=function(){var e=c(o.a.mark((function e(n,r,a){var c,u,s,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>3&&void 0!==l[3]?l[3]:"",e.next=3,i.a.get(c);case 3:return u=e.sent,s=t.postRequestOptions(u,n,a),console.log(s),e.abrupt("return",fetch(t.setUrl()+"/"+r,s).then((function(e){return e.json()})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.getData=function(){var e=c(o.a.mark((function e(n){var r,a,c,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"",e.next=3,i.a.get(r);case 3:return a=e.sent,c=t.getRequestOptions(a),e.abrupt("return",fetch(t.setUrl()+"/"+n,c).then((function(e){return e.json()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteData=function(){var e=c(o.a.mark((function e(n){var r,a,c,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:"",e.next=3,i.a.get(r);case 3:return a=e.sent,c=t.deleteRequestOptions(a),e.abrupt("return",fetch(t.setUrl()+"/"+n,c).then((function(e){return e.json()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRequestOptions=function(e){return{method:"GET",headers:{Authorization:"Bearer "+e,"Content-type":"application/json"}}},this.postRequestOptions=function(e,t,n){return{method:n,cache:"no-cache",headers:{"Content-type":"Application/json",Accept:"application/json, text/plain, */*",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}},this.deleteRequestOptions=function(e){return{method:"DELETE",headers:{Authorization:"Bearer "+e,"Content-type":"application/json"}}}}},647:function(e,t,n){e.exports=n(390)},655:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p}));var r=n(30),o=n(628),a=n(71),c=n.n(a),u=function(e,t){return function(n){n({type:r.n}),n({type:r.g}),function(e){return(new o.a).postData(e,"admin/login","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?(n({type:r.h,res:e}),console.log(e.token),c.a.set("vt-music",e.token),t.push("/")):e.hasOwnProperty("success")&&0==e.success&&n({type:r.f,res:e})}),(function(e){n({type:r.e,error:e}),console.log(e)}))}},s=function(){return function(e){e({type:r.n})}},i=function(e){return function(t){t({type:r.m}),t({type:r.c}),function(e){return(new o.a).postData(e,"admin/forgot-password-link","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?t({type:r.d,res:e}):e.hasOwnProperty("success")&&0==e.success&&t({type:r.b,res:e})}),(function(e){t({type:r.a,error:e}),console.log(e)}))}},l=function(){return function(e){e({type:r.m})}},f=function(e){return function(t){t({type:r.o}),t({type:r.k}),function(e){return(new o.a).postData(e,"admin/reset-password","POST").then((function(e){return console.log(JSON.stringify(e)),e})).catch((function(e){return console.log(e),e}))}(e).then((function(e){console.log(e),e.hasOwnProperty("success")&&1==e.success?t({type:r.l,res:e}):e.hasOwnProperty("success")&&0==e.success&&t({type:r.j,res:e})}),(function(e){t({type:r.i,error:e}),console.log(e)}))}},p=function(){return function(e){e({type:r.o})}}},720:function(e,t,n){},823:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(2),o=n.n(r),a=n(625),c=n(624),u=n(629),s=n(652),i=n(626),l=n(627),f=n(166),p=(n(720),n(655)),m=(n(640),n(630)),d=n.n(m),h=n(21);function y(){var e=Object(i.b)({email:"",password:""}),t=Object(c.a)(e,3),n=t[0],m=(t[1],t[2]),y=Object(r.useState)(!0),g=Object(c.a)(y,2),v=g[0],b=g[1],w=Object(f.b)(),E=Object(f.c)((function(e){return e.auth.loginResponse})),O=Object(l.c)(),j=Object(h.g)(),A=function(){j.push("/forgot-password")};Object(r.useEffect)((function(){return k(n),function(){Object(l.b)(O)}}),[n]);var x=function(e){e.preventDefault(),w(Object(p.b)(n,j))},k=function(e){Object(i.a)(e,b)},S=function(){w(Object(p.e)())};return o.a.createElement(s.a,{initialValues:n,validate:function(){var e={};return e.email=n.email?"":"Email Field is Required",e.email=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(n.email)?"":"Invalid email address",e.password=n.password?"":"Password Field is Required",e}},(function(e){var t,r=e.errors,c=e.touched,s=e.handleBlur;return o.a.createElement(a.u,{onSubmit:x},""!=E&&"loading"==E?o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{type:"ThreeDots",color:"#321fdb",height:60,width:60})):""!=E&&1==E.success?(t=E.message,void console.log(t)):0==E.success?function(e,t){return"undefined"===typeof e?o.a.createElement(a.a,{color:"danger",closeButton:!0,onClick:S},t):Object.keys(e).map((function(t,n){return o.a.createElement(a.a,{color:"danger",closeButton:!0,onClick:S,key:t},e[t][0])}))}(E.error,E.message):E,o.a.createElement("h1",null,"Login "),o.a.createElement("p",{className:"text-muted"},"Sign In to your account"),o.a.createElement(a.B,{className:"mb-3"},o.a.createElement(a.D,null,o.a.createElement(a.E,null,o.a.createElement(u.a,{name:"cil-user"}))),o.a.createElement(a.A,{type:"text",id:"email",name:"email",value:n.email,onChange:m,onBlur:s,placeholder:"Username",autoComplete:"username"}),o.a.createElement("div",{className:"error_form_response"},r.email&&c.email&&r.email)),o.a.createElement(a.B,{className:"mb-4"},o.a.createElement(a.D,null,o.a.createElement(a.E,null,o.a.createElement(u.a,{name:"cil-lock-locked"}))),o.a.createElement(a.A,{type:"password",id:"password",value:n.password,onChange:m,onBlur:s,placeholder:"Password",autoComplete:"current-password"}),o.a.createElement("div",{className:"error_form_response"},r.password&&c.password&&r.password)),o.a.createElement(a.I,null,o.a.createElement(a.l,{xs:"6"},o.a.createElement(a.f,{color:"primary",disabled:v,type:"submit",className:"px-4"},"Login")),o.a.createElement(a.l,{xs:"6",className:"text-right"},o.a.createElement(a.f,{onClick:A,color:"link",className:"px-0"},"Forgot password?"))))}))}var g=function(){return o.a.createElement("div",{className:"c-app c-default-layout flex-row align-items-center"},o.a.createElement(a.m,null,o.a.createElement(a.I,{className:"justify-content-center"},o.a.createElement(a.l,{md:"6"},o.a.createElement(a.j,null,o.a.createElement(a.g,{className:"p-4"},o.a.createElement(a.h,null,o.a.createElement(y,null))))))))}}}]);
//# sourceMappingURL=12.a79f098a.chunk.js.map